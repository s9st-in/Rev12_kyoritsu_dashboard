<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>戸畑共立病院ダッシュボード</title>
    <link rel="stylesheet" href="style.css">

    <!-- tailwindcssのユーティリティークラスは「.tw-*」のプレフィックスを付けて呼び出します -->
    <!-- また今回はCSSから→TailwindCSSへのリフトアンドシフトを行う都合上、初期段階でベーススタイルを無効化します -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            prefix: 'tw-',
            corePlugins: {
                preflight: false,
            }
        }
    </script>

    <!-- Vue.js(v3)をCDN経由で読み込む -->
    <!-- <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script> -->

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <!-- 今回は動作確認用として、この位置にVue.jsのコンテナを配置します-->
    <!-- APIから取得したHTML形式のデータをパースしてもっとあてはめやすい形にすると… -->
    <!-- <div id="special-data-container">
        <div v-if="!fetchData">
            <p>データを読み込み中...</p>
        </div>
        <div v-else>
            <dl>
                <dt>ミッション</dt>
                <dd>{{ suiyokaiStructedData.mission }}</dd>
                <dt>説明</dt>
                <dd v-for="description in suiyokaiStructedData.descriptions" :key="description">
                    {{ description }}
                </dd>
            </dl>
        </div>
    </div> -->


    <header class="header-section">
        <!-- ✅ タイトル部分 -->
        <div class="title-spacing">
            <h1 class="left-align">戸畑共立病院ダッシュボード</h1>
            <div class="date-display" id="latest-date">2025年2月17日(月) <span class="update-time">更新時刻：00:00</span>
            </div>
        </div>
        <!-- ✅ ヘッダーカード部分 -->
        <div class="cards-grid cards-grid--header">
            <div class="card header-card" id="suiyokai-card">
                <h3>『水曜会 Top Down!』</h3>
            </div>
            <div class="card header-card" id="keiei-card">
                <h3>『お知らせ』</h3>
            </div>
        </div>
    </header>

    <!-- ✅ メインコンテンツ -->
    <main class="main-section">
        <!-- ✅ 指標カード部分 -->
        <section class="section-spacing" aria-label="病院指標データ">
            <div class="cards-grid--metrics">
                <div class="card" data-metric="bed-utilization" role="region" aria-label="病床利用率データ">
                    <h3>病床利用率</h3><strong aria-live="polite">--%</strong>
                </div>
                <div class="card" data-metric="ambulance" role="region" aria-label="救急車搬入データ">
                    <h3>救急車搬入</h3><strong aria-live="polite">--台</strong>
                </div>
                <div class="card" data-metric="inpatients" role="region" aria-label="入院患者データ">
                    <h3>入院患者</h3><strong aria-live="polite">--人</strong>
                </div>
                <div class="card" data-metric="discharges" role="region" aria-label="退院予定データ">
                    <h3>退院予定</h3><strong aria-live="polite">--人</strong>
                </div>
                <div class="card" data-metric="general-ward" role="region" aria-label="一般病棟在院数データ">
                    <h3>一般病棟在院数</h3><strong aria-live="polite">--/218 床</strong>
                </div>
                <div class="card" data-metric="icu" role="region" aria-label="集中治療室在院数データ">
                    <h3>集中治療室在院数</h3><strong aria-live="polite">--/16 床</strong>
                </div>
                <div class="card" data-metric="average-stay" role="region" aria-label="平均在院日数データ">
                    <h3>平均在院日数</h3><strong aria-live="polite">--日</strong>
                </div>
                <div class="card clickable-card" id="surgery-register-card" 
                     role="button" tabindex="0" aria-label="手術台帳を新しいタブで開く"
                     data-url="https://docs.google.com/spreadsheets/d/1CHU8Cgxgg5IvL3nB6ackAdqxe7-CNkmWDvtYE-keuXI/edit">
                    <h3>手術台帳</h3><strong>クリックして表示</strong>
                </div>
                <div class="card clickable-card" id="duty-management-card" 
                     role="button" tabindex="0" aria-label="当直管理表を新しいタブで開く"
                     data-url="https://docs.google.com/spreadsheets/d/1EX0t4wpSJZkEkhZ38PUGIyZVMOeGOTNdy2OI3rb_CTc/edit">
                    <h3>当直管理表</h3><strong>クリックして表示</strong>
                </div>
                <div class="card clickable-card" id="covid-status-card" 
                     role="button" tabindex="0" aria-label="新型コロナ感染状況を新しいタブで開く"
                     data-url="https://docs.google.com/spreadsheets/d/1pgLCwJPxPpGO_-ro_J78QYqLzjrGHgTBKHL3ngybBbY/edit?gid=0#gid=0">
                    <h3>新型コロナ感染状況</h3><strong>クリックして表示</strong>
                </div>
                <!-- ✅ 新しく追加するメディサイナスカード -->
                <div class="card clickable-card" id="new-card" 
                     role="button" tabindex="0" aria-label="空床マップを新しいタブで開く"
                     data-url="https://docs.google.com/spreadsheets/d/16G6LfsDQSD_ogAPDSj6cL4LpVGWFsZxnhdp_GfZA7e8/preview?rm=minimal">
                    <h3>『空床マップ』<br></h3><strong>クリックして表示</strong>
                </div>
            </div>
        </section>

        <!-- ✅ グラフ部分 -->
        <section aria-label="データ推移グラフ">
            <div class="cards-grid">
                <div class="chart-container" role="img" aria-label="病床利用率の推移グラフ">
                    <canvas id="bedChart" aria-label="病床利用率の時系列データを表示するグラフ"></canvas>
                </div>
                <div class="chart-container" role="img" aria-label="救急車搬入数の推移グラフ">
                    <canvas id="ambulanceChart" aria-label="救急車搬入数の時系列データを表示するグラフ"></canvas>
                </div>
                <div class="chart-container" role="img" aria-label="入院患者数の推移グラフ">
                    <canvas id="inpatientsChart" aria-label="入院患者数の時系列データを表示するグラフ"></canvas>
                </div>
                <div class="chart-container" role="img" aria-label="退院予定数の推移グラフ">
                    <canvas id="dischargesChart" aria-label="退院予定数の時系列データを表示するグラフ"></canvas>
                </div>
                <div class="chart-container" role="img" aria-label="一般病棟在院数の推移グラフ">
                    <canvas id="generalWardChart" aria-label="一般病棟在院数の時系列データを表示するグラフ"></canvas>
                </div>
                <div class="chart-container" role="img" aria-label="集中治療室在院数の推移グラフ">
                    <canvas id="icuChart" aria-label="集中治療室在院数の時系列データを表示するグラフ"></canvas>
                </div>
                <div class="chart-container" role="img" aria-label="平均在院日数の推移グラフ">
                    <canvas id="averageStayChart" aria-label="平均在院日数の時系列データを表示するグラフ"></canvas>
                </div>
            </div>
        </section>
    </main>

    <script src="script.js"></script>

    <!-- Vue.jsとして動作させるスクリプト -->
    <!-- <script src="vue-app.js"></script> -->
</body>

</html>